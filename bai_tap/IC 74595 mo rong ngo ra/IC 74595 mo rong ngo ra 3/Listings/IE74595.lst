C51 COMPILER V9.60.7.0   IE74595                                                           08/21/2024 09:48:09 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE IE74595
OBJECT MODULE PLACED IN .\Objects\IE74595.obj
COMPILER INVOKED BY: C:\hoc\8051\Keil_C_v5\C51\BIN\C51.EXE ..\..\Library\IE 74595\IE74595.c OPTIMIZE(8,SPEED) BROWSE DEB
                    -UG OBJECTEXTEND PRINT(.\Listings\IE74595.lst) TABS(2) OBJECT(.\Objects\IE74595.obj)

line level    source

   1          // mo rong ngo ra su dung IC74HC595
   2          // yeu cau: tao file port.h chua cac ket noi phan cung nhu sau:
   3          //sbit IE74595_SHCP = P2^0;
   4          //sbit IE74595_DS = P2^1;
   5          //sbit IE74595_STCP = P2^2;
   6          
   7          #include "main.h"
   8          #include "IE74595.h"
   9          #include "port.h"
  10          
  11          
  12          void IE74595_Out(unsigned char *p, unsigned char n)
  13          {
  14   1        unsigned int i, j, b;
  15   1        for(j = 0; j<n; j++)
  16   1        {
  17   2          b = *(p + n - j - 1); //Lay tu byte cao nhat den byte thap nhat
  18   2          for(i=0; i<8; i++)
  19   2          {
  20   3            IE74595_DS = b & (0x80>>i); // lay tung bit cua byte b gui ra DS, lay tu bit cao xuong bit thap
  21   3            
  22   3            // tao xung nhan du lieu
  23   3            IE74595_SHCP = 0;
  24   3            IE74595_SHCP = 1;
  25   3          }
  26   2        }
  27   1      
  28   1        // tao xung xuat du lieu
  29   1        IE74595_STCP = 0;
  30   1        IE74595_STCP = 1;
  31   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    120    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       8
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
