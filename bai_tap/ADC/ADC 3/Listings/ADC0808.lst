C51 COMPILER V9.60.7.0   ADC0808                                                           09/08/2024 17:58:58 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE ADC0808
OBJECT MODULE PLACED IN .\Objects\ADC0808.obj
COMPILER INVOKED BY: C:\hoc\8051\Keil_C_v5\C51\BIN\C51.EXE ..\..\Library\ADC0808\ADC0808.c OPTIMIZE(8,SPEED) BROWSE DEBU
                    -G OBJECTEXTEND PRINT(.\Listings\ADC0808.lst) TABS(2) OBJECT(.\Objects\ADC0808.obj)

line level    source

   1          //khai bao ket noi voi ADC0808
   2          //#define ADC0808_DATA P3
   3          //sbit ADC0808_ADDA = P2^0;
   4          //sbit ADC0808_ADDB = P2^1;
   5          //sbit ADC0808_ADDC = P2^2;
   6          //sbit ADC0808_ALE = P2^3;
   7          //sbit ADC0808_START = P2^4;
   8          //sbit ADC0808_EOC = P2^5;
   9          //sbit ADC0808_OE = P2^6;
  10          
  11          #include "main.h"
  12          #include "Port.h"
  13          #include "C:\hoc\8051\bai_tap\Library\ADC0808\ADC0808.h"
  14          
  15          // khoi tao ADC0808
  16          void ADC0808_Init()
  17          {
  18   1        ADC0808_START = 0;
  19   1        ADC0808_ALE = 0;
  20   1        ADC0808_OE = 0;
  21   1      }
  22          
  23          // doc gia tri dau vao ADC
  24          unsigned char ADC0808_Read(unsigned char channel)
  25          {
  26   1        unsigned kq;
  27   1        
  28   1        // chon kenh doc gia tri dau vao ADC
  29   1        ADC0808_ADDA = channel & 0x01;
  30   1        ADC0808_ADDB = channel & 0x02;
  31   1        ADC0808_ADDC = channel & 0x04;
  32   1        
  33   1        //bat dau chuyen doi 
  34   1        ADC0808_ALE = 1;
  35   1        ADC0808_START = 1;
  36   1        ADC0808_ALE = 0;
  37   1        ADC0808_START = 0;
  38   1        
  39   1        //cho cho den khi qua trinh chuyen doi xong
  40   1        while(ADC0808_EOC); //cho het muc 1
  41   1        while(ADC0808_EOC); //cho het muc 0 len lai muc 1 thi la hoan tat qua trinh chuyen doi
  42   1        
  43   1        // doc gia tri ADC ra chan OUT
  44   1        ADC0808_OE = 1;    // cho phep chan OUT xuat du lieu
  45   1        kq = ADC0808_DATA; // xuat du lieu ADC gan vao bien kq
  46   1        ADC0808_OE = 0;     // ket thuc qua trinh xuat du lieu 
  47   1        
  48   1        return kq; // tra ve gia tri cho ADC0808_Read()
  49   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     41    ----
   CONSTANT SIZE    =   ----    ----
C51 COMPILER V9.60.7.0   ADC0808                                                           09/08/2024 17:58:58 PAGE 2   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
