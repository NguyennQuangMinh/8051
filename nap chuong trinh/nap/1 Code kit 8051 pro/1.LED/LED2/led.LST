C51 COMPILER V9.01   LED                                                                   08/16/2013 16:25:18 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE LED
OBJECT MODULE PLACED IN led.OBJ
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE led.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /*******************************************************************************
   2          * 实 验 名     : 左右流水灯实验
   3          * 使用的IO       : P2
   4          * 实验效果       : 点亮的LED从右边往左边移动，到达左边再往右边移动，依此循环。
   5          * 注    意     ：
   6          *******************************************************************************/
   7          #include<reg51.h>
   8          #include<intrins.h>   //因为要用到左右移函数，所以加入这个头文件         
   9          
  10          #define GPIO_LED P2   //将P2口另外取名为GPIO_LED
  11          
  12          void Delay10ms(unsigned int);   //误差 0us
  13          /*******************************************************************************
  14          * 函 数 名       : main
  15          * 函数功能     : 主函数
  16          * 输    入       : 无
  17          * 输    出       : 无
  18          *******************************************************************************/
  19          
  20          void main(void)
  21          {
  22   1        unsigned char n;
  23   1        GPIO_LED=0xfe;//1111_1110->1111_1101
  24   1        while(1)
  25   1        {
  26   2          for(n=0;n<7;n++)             //左移7次，这样子就会到达最左边
  27   2          {
  28   3            GPIO_LED=_crol_(GPIO_LED,1); //将GPIO_LED左移一位
  29   3            Delay10ms(50);               //延时
  30   3          }
  31   2          for(n=0;n<7;n++)               //右移7次，这样子就会到达最右边
  32   2          {
  33   3            GPIO_LED=_cror_(GPIO_LED,1);  //将GPIO_LED右移一位
  34   3            Delay10ms(50);                //延时
  35   3          } 
  36   2        } 
  37   1      }
  38          /*******************************************************************************
  39          * 函 数 名         : Delay10ms
  40          * 函数功能       : 延时函数，延时10ms
  41          * 输    入         : 无
  42          * 输    出         : 无
  43          *******************************************************************************/
  44          void Delay10ms(unsigned int c)   //误差 0us
  45          {
  46   1          unsigned char a,b;
  47   1          for(;c>0;c--)
  48   1              for(b=38;b>0;b--)
  49   1                  for(a=130;a>0;a--);
  50   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     88    ----
   CONSTANT SIZE    =   ----    ----
C51 COMPILER V9.01   LED                                                                   08/16/2013 16:25:18 PAGE 2   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
