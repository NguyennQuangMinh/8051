C51 COMPILER V9.60.7.0   LCD                                                               09/16/2024 12:01:18 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE LCD
OBJECT MODULE PLACED IN lcd.OBJ
COMPILER INVOKED BY: C:\hoc\8051\Keil_C_v5\C51\BIN\C51.EXE lcd.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          #include"lcd.h"
   2          
   3          
   4          void Lcd1602_Delay1ms(uint c) 
   5          {
   6   1          uchar a,b;
   7   1        for (; c>0; c--)
   8   1        {
   9   2           for (b=199;b>0;b--)
  10   2           {
  11   3              for(a=1;a>0;a--);
  12   3           }      
  13   2        }
  14   1            
  15   1      }
  16          
  17          #ifndef   LCD1602_4PINS  
              void LcdWriteCom(uchar com)   
              {
                LCD1602_E = 0;    
                LCD1602_RS = 0;    
                LCD1602_RW = 0;   
                
                LCD1602_DATAPINS = com;     
                Lcd1602_Delay1ms(1);    
              
                LCD1602_E = 1;            
                Lcd1602_Delay1ms(5);    
                LCD1602_E = 0;
              }
              #else 
  32          void LcdWriteCom(uchar com)  
  33          {
  34   1        LCD1602_E = 0;  
  35   1        LCD1602_RS = 0;  
  36   1        LCD1602_RW = 0;  
  37   1      
  38   1        LCD1602_DATAPINS = com;
  39   1        Lcd1602_Delay1ms(1);
  40   1      
  41   1        LCD1602_E = 1;  
  42   1        Lcd1602_Delay1ms(5);
  43   1        LCD1602_E = 0;
  44   1      
  45   1      //  Lcd1602_Delay1ms(1);
  46   1        LCD1602_DATAPINS = com << 4;
  47   1        Lcd1602_Delay1ms(1);
  48   1      
  49   1        LCD1602_E = 1;   
  50   1        Lcd1602_Delay1ms(5);
  51   1        LCD1602_E = 0;
  52   1      }
  53          #endif
  54               
  55          #ifndef   LCD1602_4PINS      
C51 COMPILER V9.60.7.0   LCD                                                               09/16/2024 12:01:18 PAGE 2   

              void LcdWriteData(uchar dat)  
              {
                LCD1602_E = 0;  
                LCD1602_RS = 1; 
                LCD1602_RW = 0; 
              
                LCD1602_DATAPINS = dat; 
                Lcd1602_Delay1ms(1);
              
                LCD1602_E = 1;   
                Lcd1602_Delay1ms(5);   
                LCD1602_E = 0;
              }
              #else
  70          void LcdWriteData(uchar dat)      
  71          {
  72   1        LCD1602_E = 0;    
  73   1        LCD1602_RS = 1;   
  74   1        LCD1602_RW = 0;  
  75   1      
  76   1        LCD1602_DATAPINS = dat; 
  77   1        Lcd1602_Delay1ms(1);
  78   1      
  79   1        LCD1602_E = 1;    
  80   1        Lcd1602_Delay1ms(5);
  81   1        LCD1602_E = 0;
  82   1      
  83   1        LCD1602_DATAPINS = dat << 4;
  84   1        Lcd1602_Delay1ms(1);
  85   1      
  86   1        LCD1602_E = 1;  
  87   1        Lcd1602_Delay1ms(5);
  88   1        LCD1602_E = 0;
  89   1      }
  90          #endif
  91               
  92          #ifndef   LCD1602_4PINS
              void LcdInit()            
              {
                LcdWriteCom(0x38);  
                LcdWriteCom(0x0c);  
                LcdWriteCom(0x06);  
                LcdWriteCom(0x01);  
                LcdWriteCom(0x80);  
              }
              #else
 102          void LcdInit()              
 103          {
 104   1        LcdWriteCom(0x32);   
 105   1        LcdWriteCom(0x28);  
 106   1        LcdWriteCom(0x0c);  
 107   1        LcdWriteCom(0x06);  
 108   1        LcdWriteCom(0x01);  
 109   1        LcdWriteCom(0x80);  
 110   1      }
 111          #endif


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    120    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
C51 COMPILER V9.60.7.0   LCD                                                               09/16/2024 12:01:18 PAGE 3   

   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
