C51 COMPILER V9.01   MAIN                                                                  08/16/2013 16:27:48 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: D:\Keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /*******************************************************************************
   2          * 实 验 名     : 左右流水灯实验
   3          * 使用的IO       : LED使用P2,键盘使用P3.1
   4          * 实验效果       : 按下K1键，
   5          * 注    意     :
   6          *******************************************************************************/
   7          #include<reg51.h>
   8          #include<intrins.h> 
   9          
  10          #define GPIO_LED P2
  11          sbit K1=P3^1;
  12          void Delay10ms( );   //延时10ms
  13          
  14          /*******************************************************************************
  15          * 函 数 名         : main
  16          * 函数功能       : 主函数
  17          * 输    入         : 无
  18          * 输    出         : 无
  19          *******************************************************************************/
  20          void main(void)
  21          {
  22   1        unsigned int i,j;
  23   1        j=0xfe; //1111_1110
  24   1        
  25   1        while(1)
  26   1        { 
  27   2          GPIO_LED=j;  
  28   2          if(K1==0)   //检测按键K1是否按下
  29   2          {
  30   3            Delay10ms();  //消除抖动
  31   3            if(K1==0)
  32   3            {
  33   4              j=_cror_(j,1);
  34   4              while((i<50)&&(K1==0))   //检测按键是否松开
  35   4              {
  36   5                Delay10ms();
  37   5                i++;
  38   5              }
  39   4              i=0;
  40   4            }
  41   3          }   
  42   2      
  43   2        }       
  44   1      }
  45          /*******************************************************************************
  46          * 函 数 名         : Delay10ms
  47          * 函数功能       : 延时函数，延时10ms
  48          * 输    入         : 无
  49          * 输    出         : 无
  50          *******************************************************************************/
  51          void Delay10ms(void)   //误差 0us
  52          {
  53   1          unsigned char a,b,c;
  54   1          for(c=1;c>0;c--)
  55   1              for(b=38;b>0;b--)
C51 COMPILER V9.01   MAIN                                                                  08/16/2013 16:27:48 PAGE 2   

  56   1                  for(a=130;a>0;a--);
  57   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     81    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       4
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
